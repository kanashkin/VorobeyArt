<template>
	<div class="accordion" :class="{ 'active': open }">
		<div class="accordion__header" @click="open = !open">
			<div class="accordion__icon">
				<svg width="50" height="38" viewBox="0 0 50 38" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" clip-rule="evenodd" d="M43.7879 4.89157C42.8453 3.29728 40.1208 0.5 35.748 0.5C33.4415 0.5 31.6078 1.46347 30.2648 2.64742C28.9854 3.77542 28.1327 5.11858 27.7122 6.07607C16.5665 14.5901 4.85241 17.7438 0.958462 18.0683C0.788414 18.0825 0.637337 18.1824 0.557732 18.3333C0.478123 18.4843 0.480984 18.6654 0.565315 18.8137C3.52295 24.0163 8.39837 26.0111 13.4427 26.2626C15.7774 29.568 19.2979 31.3082 23.4304 31.5456C27.635 31.7872 32.4685 30.4762 37.3803 27.7085C41.4068 25.4396 43.3412 22.0151 44.1169 18.6759C44.8424 15.5525 44.5586 12.4936 44.0359 10.4796L49.2564 7.36186C49.4271 7.25988 49.5212 7.06639 49.4959 6.86911C49.4707 6.67183 49.3309 6.50827 49.14 6.45258L43.7879 4.89157ZM14.7159 26.29C20.5656 26.2555 26.5236 24.0687 30.0741 21.9223C30.3104 21.7794 30.3861 21.472 30.2433 21.2357C30.1004 20.9994 29.793 20.9236 29.5567 21.0665C25.9269 23.2609 19.6637 25.5024 13.7319 25.2744C9.06285 25.0949 4.64787 23.3927 1.83013 18.976C6.5274 18.3293 17.7578 14.9728 28.4247 6.78997C28.4943 6.73655 28.5487 6.66572 28.5823 6.58463C28.9281 5.74988 29.7138 4.46638 30.9261 3.39753C32.1322 2.33428 33.7398 1.5 35.748 1.5C39.8279 1.5 42.3018 4.22513 43.0119 5.55072C43.0753 5.66911 43.1837 5.757 43.3126 5.79461L47.7589 7.09142L43.1963 9.81631C43.0006 9.93318 42.9087 10.1676 42.9729 10.3863C43.5173 12.2425 43.8705 15.3171 43.1428 18.4496C42.4187 21.5669 40.6291 24.7299 36.8894 26.8373C32.0932 29.5398 27.45 30.7749 23.4877 30.5473C19.8862 30.3403 16.8437 28.9275 14.7159 26.29Z" fill="#7C7C7C"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M27.9055 30.3341C27.6811 30.4951 27.6298 30.8074 27.7908 31.0318L32.4906 37.5808C32.5846 37.7116 32.7358 37.7892 32.8969 37.7892H36.1328C36.409 37.7892 36.6328 37.5654 36.6328 37.2892C36.6328 37.0131 36.409 36.7892 36.1328 36.7892H33.1535L28.6032 30.4487C28.4422 30.2244 28.1298 30.173 27.9055 30.3341Z" fill="#7C7C7C"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M20.2674 30.1876C20.0474 30.3545 20.0044 30.6682 20.1713 30.8882L25.2563 37.5912C25.3509 37.7158 25.4983 37.789 25.6547 37.789H28.8906C29.1668 37.789 29.3906 37.5652 29.3906 37.289C29.3906 37.0129 29.1668 36.789 28.8906 36.789H25.903L20.9679 30.2838C20.801 30.0638 20.4874 30.0207 20.2674 30.1876Z" fill="#7C7C7C"/>
					<path d="M34.8995 6.08539C34.8995 6.72366 35.417 7.24108 36.0552 7.24108C36.6935 7.24108 37.2109 6.72366 37.2109 6.08539C37.2109 5.44711 36.6935 4.92969 36.0552 4.92969C35.417 4.92969 34.8995 5.44711 34.8995 6.08539Z" fill="#7C7C7C"/>
				</svg>
			</div>
			<div class="accordion__icon">
				<svg width="50" height="38" viewBox="0 0 50 38" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" clip-rule="evenodd" d="M43.7879 4.89157C42.8453 3.29728 40.1208 0.5 35.748 0.5C33.4415 0.5 31.6078 1.46347 30.2648 2.64742C28.9854 3.77542 28.1327 5.11858 27.7122 6.07607C16.5665 14.5901 4.85241 17.7438 0.958462 18.0683C0.788414 18.0825 0.637337 18.1824 0.557732 18.3333C0.478123 18.4843 0.480984 18.6654 0.565315 18.8137C3.52295 24.0163 8.39837 26.0111 13.4427 26.2626C15.7774 29.568 19.2979 31.3082 23.4304 31.5456C27.635 31.7872 32.4685 30.4762 37.3803 27.7085C41.4068 25.4396 43.3412 22.0151 44.1169 18.6759C44.8424 15.5525 44.5586 12.4936 44.0359 10.4796L49.2564 7.36186C49.4271 7.25988 49.5212 7.06639 49.4959 6.86911C49.4707 6.67183 49.3309 6.50827 49.14 6.45258L43.7879 4.89157ZM14.7159 26.29C20.5656 26.2555 26.5236 24.0687 30.0741 21.9223C30.3104 21.7794 30.3861 21.472 30.2433 21.2357C30.1004 20.9994 29.793 20.9236 29.5567 21.0665C25.9269 23.2609 19.6637 25.5024 13.7319 25.2744C9.06285 25.0949 4.64787 23.3927 1.83013 18.976C6.5274 18.3293 17.7578 14.9728 28.4247 6.78997C28.4943 6.73655 28.5487 6.66572 28.5823 6.58463C28.9281 5.74988 29.7138 4.46638 30.9261 3.39753C32.1322 2.33428 33.7398 1.5 35.748 1.5C39.8279 1.5 42.3018 4.22513 43.0119 5.55072C43.0753 5.66911 43.1837 5.757 43.3126 5.79461L47.7589 7.09142L43.1963 9.81631C43.0006 9.93318 42.9087 10.1676 42.9729 10.3863C43.5173 12.2425 43.8705 15.3171 43.1428 18.4496C42.4187 21.5669 40.6291 24.7299 36.8894 26.8373C32.0932 29.5398 27.45 30.7749 23.4877 30.5473C19.8862 30.3403 16.8437 28.9275 14.7159 26.29Z" fill="#7C7C7C"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M27.9055 30.3341C27.6811 30.4951 27.6298 30.8074 27.7908 31.0318L32.4906 37.5808C32.5846 37.7116 32.7358 37.7892 32.8969 37.7892H36.1328C36.409 37.7892 36.6328 37.5654 36.6328 37.2892C36.6328 37.0131 36.409 36.7892 36.1328 36.7892H33.1535L28.6032 30.4487C28.4422 30.2244 28.1298 30.173 27.9055 30.3341Z" fill="#7C7C7C"/>
					<path fill-rule="evenodd" clip-rule="evenodd" d="M20.2674 30.1876C20.0474 30.3545 20.0044 30.6682 20.1713 30.8882L25.2563 37.5912C25.3509 37.7158 25.4983 37.789 25.6547 37.789H28.8906C29.1668 37.789 29.3906 37.5652 29.3906 37.289C29.3906 37.0129 29.1668 36.789 28.8906 36.789H25.903L20.9679 30.2838C20.801 30.0638 20.4874 30.0207 20.2674 30.1876Z" fill="#7C7C7C"/>
					<path d="M34.8995 6.08539C34.8995 6.72366 35.417 7.24108 36.0552 7.24108C36.6935 7.24108 37.2109 6.72366 37.2109 6.08539C37.2109 5.44711 36.6935 4.92969 36.0552 4.92969C35.417 4.92969 34.8995 5.44711 34.8995 6.08539Z" fill="#7C7C7C"/>
				</svg>
			</div>
			<p class="accordion__title">{{ title }}</p>
			<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M0 23V21H44V23H0Z" fill="#0181C8"/>
				<path d="M21 -8.74228e-08L23 0L23 44L21 44L21 -8.74228e-08Z" fill="#0181C8"/>
			</svg>
		</div>
		<div class="accordion__wrapper">
			<div class="accordion__content">
				<slot></slot>
			</div>
		</div>
	</div>
</template>

<script setup>
defineProps({
	title: String
})

const open = ref(false)
</script>

<style scoped lang="scss">
.accordion {
	display: flex;
	flex-direction: column;
	border-top: 1px solid #000;
	&:last-child {
		border-bottom: 1px solid #000;
	}
	&__icon {
		position: absolute;
		bottom: calc(100% - 3px);
		display: none;
		opacity: 0;
		transition: .3s ease;
		&:nth-child(2) {
			svg {
				transform: scaleX(-1);
			}
		}
	}
	&__header {
		position: relative;
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 30px 72px;
		cursor: pointer;
		& > svg {
			transition: .3s ease;
		}
	}
	&__title {
		color: #222;
		font-size: 50px;
		font-weight: 600;
	}
	&__wrapper {
		display: grid;
		grid-template-rows: 0fr;
		transition: .3s ease;
	}
	&__content {
		padding: 0px;
		overflow: hidden;
		height: 100%;
		transition: .3s ease;
	}
	@media (hover: hover) {
		&:hover {
			.accordion__icon {
				opacity: 1;
			}
		}
	}
	&.active {
		.accordion__wrapper {
			grid-template-rows: 1fr;
		}
		.accordion__content {
			padding: 60px 0;
		}
		.accordion__header > svg {
			transform: rotate(45deg);
		}
	}
	&:nth-of-type(2) {
		.accordion__icon:first-child {
			display: block;
			right: 503px;
		}
	}
	&:nth-of-type(3) {
		.accordion__icon:nth-child(2) {
			display: block;
			left: 533px;
		}
	}
	&:nth-of-type(4) {
		.accordion__icon:first-child {
			display: block;
			right: 331px;
		}
		.accordion__icon:nth-child(2) {
			display: block;
			right: 268px;
		}
	}
}
@media (max-width: 1440px) {
	.accordion {
		&__content {
			max-width: 1164px;
			margin: 0 auto;
		}
	}
}
@media (max-width: 1200px) {
	.accordion {
		&__title {
			font-size: 35px;
		}
		&__header {
			padding: 40px 50px 40px 40px;
			svg {
				width: 30px;
				height: 30px;
			}
		}
	}
}
@media (max-width: 1024px) {
	.accordion {
		&__content {
			max-width: 100%;
			width: 100%;
		}
	}
}
@media (max-width: 570px) {
	.accordion {
		&__title {
			font-size: 25px;
		}
		&__header {
			padding: 30px 13px;
		}
	}
}
</style>
